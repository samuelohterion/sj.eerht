<!DOCTYPE HTML>
<html>
	<head>
		<style>
		</style>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="binTree.css">
		<script src="OpenThesaurus-Textversion/openthesaurus_german.js">
		</script>
		<script src="binTree.js">
		</script>
	</head>
	<body>
		<h1>
			Use Arrow Keys!
		</h1>
		<span id="output">
		</span>
		<input id="input" onkeyup="keyUp ( event );">
		</div>
		<div id="found">
		</div>
		<div id="all">
		</div>
		<div id="arr">
		</div>
		<div id="allSorted">
		</div>
		<script type="text/javascript">

			var
			bt = new BinTree( ),
//			words = german.split ( /[;]+/ );
			words = german.split ( /[()\[\]\s,.?@€$%&\/=§;:-<>|!1234567890]+/ );

			for ( var i = 0; i < words.length; ++i ) {

				bt.insert ( words[ i ] );
			}

			bt.insert ( "Robert" );

/*			var
			f = bt.find( "god" );

			document.getElementById ( "found" ).textContent = "depth: " + f.depth ( ) + "\n" + f.val + "\n";*/
//			document.getElementById ( "all" ).textContent   = "depth: " + bt.depth ( ) + "\n" + bt.txt ( );

			var
			arr = bt.toArr ( ),
			arrStr = "";

			for ( var i = 0; i < arr.length; ++i ) {

				arrStr = arrStr + arr[ i ] + ", ";
			}
			document.getElementById ( "arr" ).textContent = "size: " + arr.length + "\n" + arrStr;

			var
			sbt = new BinTree ( );

			sbt.fromArr( arr );

			document.getElementById ( "allSorted" ).textContent = "depth: " + sbt.depth ( ) + "\n" + sbt.txt ( );

			var
			addr = "";

			function keyUp ( event ) {

				var
				c = event.which || event.keyCode;

   				switch ( c ) {

					case 38 : {

						var
						tmp = sbt.getByAddr ( addr );

						if ( tmp.lft )

							addr += "0";

						break;
					}
					case 37 : {

						addr = addr.substr( 0, addr.length - 1 );
						break;
					}
					case 40 : {

						var
						tmp = sbt.getByAddr ( addr );

						if ( tmp.rgt )

							addr += "1";

						break;
					}
					case 38 : {

						addr = "";
						break;
					}
				}

				var
				ndM  = sbt.getByAddr ( addr ),
				txtM = ndM ? ndM.val : "",
				txtL = ndM && ndM.lft ? ndM.lft.val : "???",
				txtR = ndM && ndM.rgt ? ndM.rgt.val : "¿¿¿";

				document.getElementById ( "output" ).textContent = txtL + "\n" + txtM + "\n" + txtR;
				document.getElementById ( "input" ).value = addr;
			}
		</script>
	</body>
</html>
